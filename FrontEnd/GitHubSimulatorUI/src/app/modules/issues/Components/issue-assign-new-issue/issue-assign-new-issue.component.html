<mat-list>
  <div mat-subheader>
    <button mat-flat-button style="width: 100%;" class="listSettings" [matMenuTriggerFor]="assigneeMenu">
    Assignees<mat-icon iconPositionEnd>settings</mat-icon>
    </button>
    
    <mat-menu #assigneeMenu="matMenu">
      <input type="text" placeholder="Type or choose a user" mat-menu-item (click)="$event.stopPropagation();">
      <mat-divider></mat-divider>

      <button mat-menu-item *ngIf="issueDetails.assigne?.email !== null" (click)="clearAssignee()">
        <mat-icon>close</mat-icon>Clear assignees
      </button>
      <mat-divider></mat-divider>

      <!-- TODO: change to retreive only users assigned to the repo-->
      <button mat-menu-item *ngFor="let item of allUsers" (click)="assignUser(item.email.email)">
        <span>{{item.email.email}}</span>
      </button>
      <mat-divider></mat-divider>

    </mat-menu>
    
  </div>

  <mat-list-item *ngIf="issueDetails.assigne?.email">
    <mat-icon matListItemIcon>person_outline</mat-icon>
    <div matListItemTitle><b>{{issueDetails?.assigne?.email}}</b></div>
  </mat-list-item>

  <mat-list-item *ngIf="!issueDetails.assigne?.email">
    <div matListItemTitle><b>No one-<a (click)="assignUser(loggedInUser.email)" class="link-on-hover">assign yourself</a></b></div>
  </mat-list-item>

  <mat-divider></mat-divider>

  <div mat-subheader>Labels</div>
  <mat-list-item>
    <div matListItemTitle><b>None yet</b></div>
  </mat-list-item>

  <mat-divider style=" --mat-divider-height: 180px; "></mat-divider>

  <div mat-subheader>
    <button mat-flat-button style="width: 100%;" class="listSettings" [matMenuTriggerFor]="milestoneMenu">
      Milestone<mat-icon iconPositionEnd>settings</mat-icon>
    </button> 

    <mat-menu #milestoneMenu="matMenu">
      <input type="text" placeholder="Filter Milestone" mat-menu-item (click)="$event.stopPropagation();">
      <mat-divider></mat-divider>
      
      <button mat-menu-item *ngIf="issueDetails.milestoneId !== null" (click)="clearMilestone()">
        <mat-icon>close</mat-icon>Clear this milestone
      </button>
      <mat-divider></mat-divider>

      <button mat-menu-item *ngFor="let item of allMilestonesForRepo" (click)="assignMilestone(item.id)">
        <span>{{item.title}}</span>
      </button>
      <mat-divider></mat-divider>

    </mat-menu>
  </div>

  <mat-list-item *ngIf="issueDetails.milestoneId !== null">
    <div matListItemTitle><b>{{milestoneInfo?.title}}</b></div>
  </mat-list-item>

  <mat-list-item *ngIf="issueDetails.milestoneId === null">
    <div matListItemTitle><b>No milestone</b></div>
  </mat-list-item>

  <mat-divider></mat-divider>

  <div mat-subheader>Development</div>
  <mat-list-item>
    <div matListItemTitle><b>Shows branches and pull requests linked to this issue.</b></div>
  </mat-list-item>

  <mat-divider></mat-divider>

  <div mat-subheader><b>Helpful resources</b></div>
  <mat-list-item>
    <div matListItemTitle>
      <a href="https://docs.github.com/articles/github-community-guidelines">GitHub Community Guidelines</a>
    </div>
  </mat-list-item>
  <mat-divider></mat-divider>

</mat-list>